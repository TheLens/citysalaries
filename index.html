<!DOCTYPE html>
<html>
  <head>
    <title>City employee salaries</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" href="https://s3-us-west-2.amazonaws.com/lensnola/land-records/css/images/favicon.ico">

    <script type="text/javascript" src="//use.typekit.net/oct0mkd.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>

    <link rel="stylesheet" href='css/style.css' media="screen" charset="utf-8">
    <link rel="stylesheet" href='css/chosen.css' media="screen" charset="utf-8">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.4.5/css/foundation.min.css">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">

    <link rel="stylesheet" href='css/lens.css' media="screen" charset="utf-8">
  </head>
  <body>

    <div class="row">
      <div class="small-12 columns">
        <input id='namebox' type="text" placeholder="Name" class="lensinput"/>
      </div>
    </div>

    <div class="row">
      <div class="large-12 medium-12 columns">
        <div class="ui-widget">
          <label for="tags">Department (Example: Municipal Court): </label>
          <input id="departments"  class = "large-12 medium-12 small-12 columns">
        </div>
        <div class="ui-widget">
          <label>Position (Example: Police Officer 1)</label>
          <input id="positions" class = "large-12 medium-12 small-12 columns">
        </div>
      </div>
    </div>

    <div class="row">
      <div id="ui_components" class="large-12 medium-12 columns">
        <a href="#" class="small button" id="searchButton">Search</a>
        <div id="results_status"></div>
      </div>
    </div>

    <div class="row">
      <div class="large-12 medium-12 small-12 columns">
        <table id="myTable" class="tablesorter">
          <thead id="thead">
            <tr>
              <th width="20%">First</th>
              <th width="20%">Last</th>
              <th width="20%">Department</th>
              <th width="20%">Position</th>
              <th width="20%">Salary</th>
            </tr>
          </thead>
          <div id="tbody_div">
            <tbody id="tbody"></tbody>
          </div>
        </table>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="large-12 columns">
        <div class="panel">
          <div class="footnote">
            Source: Orleans Parish Personnel Department. Information current as of May 3, 2014.
          </div>
          <div class="footnote">
            Footnotes and caveats: An employee's annual salary does not include additional money that the employee may earn for overtime work. However, it might include longevity pay, temporary pay or special rates of pay.
          </div>
          <div class="footnote">
            The data only includes full-time employees in the city's payroll system.
          </div>
          <div class="footnote">
            The app cites position names as listed in city payroll records. In some cases (for instance, in the case of some mayoral appointees) employees may have different job titles than those listed in the app. <a href='http://thelensnola.org/2014/07/22/with-new-tool-the-lens-makes-it-easy-to-find-out-how-much-city-employees-are-paid/'>Learn more about how these figures were calculated</a>.
          </div>
        </div>
      </div>
    </div>

    <!--<script type="text/javascript" src='js/jquery-1.11.0.min.js'></script>-->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://s3-us-west-2.amazonaws.com/lensnola/external-libraries/js/jquery.tablesorter.min.js"></script>
    <script type="text/javascript" src="https://s3-us-west-2.amazonaws.com/lensnola/external-libraries/js/jquery.csv-0.71.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.4.1/js/foundation.min.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>

    <script type="text/javascript" src="js/city_salaries.js"></script>

    <script>
      function process(data) {
          window.salaries = $.csv.toObjects(data);
      }

      $(document).foundation();
      $(document).ready(function() {
      $.ajax({
        type: "GET",
        url: "https://s3-us-west-2.amazonaws.com/lensnola/city-salaries/data/sals.csv",
        dataType: "text",
        success: function(data) {process(data)}
        });
      });

      $(document).foundation();
    </script>

  </body>
</html>
